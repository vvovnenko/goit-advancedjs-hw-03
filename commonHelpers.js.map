{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_uRxuzCGMeUn8tkAFqN3td9hd8qiKj4qKA96h11FpAycCtgoUiSiMflwg4H02Qwr9';\n\nexport async function fetchBreeds() {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0]);\n}\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nfunction displayError() {\n  iziToast.show({\n    title: 'Error',\n    message: 'âŒ Oops! Something went wrong! Try reloading the page!',\n    position: 'topCenter',\n    color: 'red',\n  });\n}\n\nfunction toggleHidden(element, isVisible) {\n  element.classList.toggle('hidden', !isVisible);\n}\n\nfunction handleBreedSelection(breedId) {\n  if (!breedId) {\n    return;\n  }\n\n  toggleHidden(catInfo, false);\n  toggleHidden(loader, true);\n\n  fetchCatByBreed(breedId)\n    .then(displayCatInfo)\n    .catch(displayError)\n    .finally(() => {\n      toggleHidden(loader, false);\n    });\n}\n\nfunction displayCatInfo(catData) {\n  const { name, description, temperament } =\n    catData.breeds[0];\n\n  const catImg = catData.url;\n\n  catInfo.innerHTML = `\n      <img class=\"cat-img\" src=\"${catImg}\" alt=\"${name}\"/>\n      <div class=\"cat-description\">\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p><b>Temperament:</b> ${temperament}</p>\n      </div>\n  `;\n\n  toggleHidden(catInfo, true);\n}\n\nfunction initializeSelect(data) {\n  new SlimSelect({\n    select: select,\n    settings: {\n      placeholderText: 'Search breed',\n    },\n    data: [ { placeholder: true, text: '' }, ...data ],\n    events: {\n      afterChange: (newVal) => handleBreedSelection(newVal[0]?.value),\n    }\n  });\n  toggleHidden(select, true);\n}\n\nfunction initializeApp() {\n  fetchBreeds()\n    .then(breeds => {\n      initializeSelect(breeds.map(({ id, name }) => ({ text: name, value: id })));\n    })\n    .catch(displayError)\n    .finally(() => {\n      toggleHidden(loader, false);\n    });\n}\n\ninitializeApp();\n\n\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","select","catInfo","loader","displayError","iziToast","toggleHidden","element","isVisible","handleBreedSelection","displayCatInfo","catData","name","description","temperament","catImg","initializeSelect","data","SlimSelect","newVal","_a","initializeApp","breeds","id"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,CACnC,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,OAAO,MAAMJ,EACV,IAAI,wDAAwDI,CAAO,EAAE,EACrE,KAAKF,GAAYA,EAAS,KAAK,CAAC,CAAC,CACtC,CCVA,MAAMG,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAe,CACtBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,wDACT,SAAU,YACV,MAAO,KACX,CAAG,CACH,CAEA,SAASC,EAAaC,EAASC,EAAW,CACxCD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAS,CAC/C,CAEA,SAASC,EAAqBT,EAAS,CAChCA,IAILM,EAAaJ,EAAS,EAAK,EAC3BI,EAAaH,EAAQ,EAAI,EAEzBJ,EAAgBC,CAAO,EACpB,KAAKU,CAAc,EACnB,MAAMN,CAAY,EAClB,QAAQ,IAAM,CACbE,EAAaH,EAAQ,EAAK,CAChC,CAAK,EACL,CAEA,SAASO,EAAeC,EAAS,CAC/B,KAAM,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,CAAa,EACtCH,EAAQ,OAAO,CAAC,EAEZI,EAASJ,EAAQ,IAEvBT,EAAQ,UAAY;AAAA,kCACYa,CAAM,UAAUH,CAAI;AAAA;AAAA,cAExCA,CAAI;AAAA,aACLC,CAAW;AAAA,iCACSC,CAAW;AAAA;AAAA,IAI1CR,EAAaJ,EAAS,EAAI,CAC5B,CAEA,SAASc,EAAiBC,EAAM,CAC9B,IAAIC,EAAW,CACb,OAAQjB,EACR,SAAU,CACR,gBAAiB,cAClB,EACD,KAAM,CAAE,CAAE,YAAa,GAAM,KAAM,EAAE,EAAI,GAAGgB,CAAM,EAClD,OAAQ,CACN,YAAcE,GAAW,OAAA,OAAAV,GAAqBW,EAAAD,EAAO,CAAC,IAAR,YAAAC,EAAW,KAAK,EAC/D,CACL,CAAG,EACDd,EAAaL,EAAQ,EAAI,CAC3B,CAEA,SAASoB,GAAgB,CACvBxB,EAAa,EACV,KAAKyB,GAAU,CACdN,EAAiBM,EAAO,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAX,CAAI,KAAQ,CAAE,KAAMA,EAAM,MAAOW,CAAI,EAAC,CAAC,CAChF,CAAK,EACA,MAAMnB,CAAY,EAClB,QAAQ,IAAM,CACbE,EAAaH,EAAQ,EAAK,CAChC,CAAK,CACL,CAEAkB,EAAe"}